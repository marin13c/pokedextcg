(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{3372:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>m});var s=t(7876),r=t(4232),n=t(4301);function a(e){let{pokemons:o,setPokemons:t}=e,[a,c]=(0,r.useState)(""),[i,d]=(0,r.useState)(null),l=o.filter(e=>e.Nombre.toLowerCase().includes(a.toLowerCase())),m=e=>{d(o.find(o=>o.Nombre.toLowerCase()===e.toLowerCase()))},b=async()=>{let e=await fetch("/api/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Nombre:i.Nombre,Obtenido:1})});(await e.json()).success?(n.oR.success("\xa1".concat(i.Nombre," marcado como obtenido!")),t(o.map(e=>e.Nombre===i.Nombre?{...e,Obtenido:1}:e)),d({...i,Obtenido:1})):n.oR.error("Error al marcar como obtenido.")},u=async()=>{let e=await fetch("/api/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Nombre:i.Nombre,Obtenido:0})});(await e.json()).success?(n.oR.success("\xa1".concat(i.Nombre," desmarcado como obtenido!")),t(o.map(e=>e.Nombre===i.Nombre?{...e,Obtenido:0}:e)),d({...i,Obtenido:0})):n.oR.error("Error al desmarcar como obtenido.")};return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",className:"border px-2 py-1 w-full mb-2",placeholder:"Busca un Pok\xe9mon",value:a,onChange:e=>{c(e.target.value),m(e.target.value)},list:"pokemon-list"}),(0,s.jsx)("datalist",{id:"pokemon-list",children:l.map((e,o)=>(0,s.jsx)("option",{value:e.Nombre},o))}),i&&(0,s.jsxs)("div",{className:"mt-4 p-4 border rounded bg-gray-50 flex items-center gap-4",children:[(0,s.jsx)("img",{src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(i.Nº,".png"),alt:i.Nombre,className:"w-24 h-24"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"N\xb0:"})," ",i.Nº]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Nombre:"})," ",i.Nombre]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Obtenido:"})," ",i.Obtenido?"S\xed":"No"]}),i.Obtenido?(0,s.jsx)("button",{onClick:u,className:"mt-2 px-4 py-1 bg-red-500 text-white rounded",children:"Desmarcar como obtenido"}):(0,s.jsx)("button",{onClick:b,className:"mt-2 px-4 py-1 bg-blue-500 text-white rounded",children:"Marcar como obtenido"})]})]})]})}var c=t(1134),i=t(1047);function d(e){let{obtenidos:o,total:t,nombresObtenidos:r}=e;return(0,s.jsxs)("div",{className:"max-w-xs mx-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-center mb-2",children:"Progreso de Pok\xe9mon"}),(0,s.jsx)(c.nu,{data:{labels:["Obtenidos","Faltan"],datasets:[{data:[o,t-o],backgroundColor:["#4caf50","#f44336"],hoverOffset:8}]}}),(0,s.jsx)("p",{className:"text-center mt-2",children:"".concat(o," de ").concat(t," obtenidos")})]})}function l(e){let{nombresObtenidos:o,pokemons:t}=e;return(0,s.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:o.map((e,o)=>{let r=t.find(o=>o.Nombre===e);if(!r)return null;let n="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(r.Nº,".png");return(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden text-center p-4",children:[(0,s.jsx)("img",{src:n,alt:r.Nombre,className:"w-24 h-24 mx-auto mb-2"}),(0,s.jsx)("p",{className:"font-semibold",children:r.Nº}),(0,s.jsx)("p",{children:r.Nombre})]},o)})})}function m(){let[e,o]=(0,r.useState)([]),[t,n]=(0,r.useState)("buscar");(0,r.useEffect)(()=>{fetch("/api/pokemons").then(e=>e.json()).then(e=>o(e)).catch(e=>console.error("Error al cargar los Pok\xe9mon",e))},[]);let c=e.filter(e=>1===e.Obtenido),i=e.length,m=c.map(e=>e.Nombre);return(0,s.jsxs)("div",{className:"p-6 font-sans max-w-xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Pok\xe9mon Tracker"}),(0,s.jsxs)("div",{className:"flex mb-4 border-b",children:[(0,s.jsx)("button",{className:"px-4 py-2 font-medium ".concat("buscar"===t?"border-b-2 border-blue-500":"text-gray-500"),onClick:()=>n("buscar"),children:"\uD83D\uDD0D Buscar Pok\xe9mon"}),(0,s.jsx)("button",{className:"px-4 py-2 font-medium ".concat("progreso"===t?"border-b-2 border-blue-500":"text-gray-500"),onClick:()=>n("progreso"),children:"\uD83D\uDCCA Progreso"}),(0,s.jsx)("button",{className:"px-4 py-2 font-medium ".concat("obtenidos"===t?"border-b-2 border-blue-500":"text-gray-500"),onClick:()=>n("obtenidos"),children:"\uD83C\uDFAF Pok\xe9mon Obtenidos"})]}),"buscar"===t?(0,s.jsx)(a,{pokemons:e,setPokemons:o}):"progreso"===t?(0,s.jsx)(d,{obtenidos:c.length,total:i,nombresObtenidos:m}):(0,s.jsx)(l,{nombresObtenidos:m,pokemons:e})]})}i.t1.register(i.Bs,i.m_,i.s$)},6760:(e,o,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3372)}])}},e=>{var o=o=>e(e.s=o);e.O(0,[697,718,636,593,792],()=>o(6760)),_N_E=e.O()}]);